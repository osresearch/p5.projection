<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.5.1/math.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/osresearch/p5.projection@0.2.1/library/p5.projection.js"></script>
  </head>
  <body>
<script>
let mat = new ProjectionMatrix();

let rects = [];
let rect_w = 175;
let rect_h = 336;

let x_coords = [0, 204, 504, 708, 1047, 1249, 1550, 1752];
let y_coords = [0, 372, 765];
let t = 0;

function setup()
{
	createCanvas(windowWidth, windowHeight, WEBGL);
	mat.edit = true;
}

function draw()
{
	background(0);

	mat.apply();

	noStroke();
	let c1 = color(256,0,0);
	let c2 = color(0,0,256);

	for(let x of x_coords)
	{
		for(let y of y_coords)
		{
			fill(lerpColor(c1, c2, noise(t,x,y)));
			rect(x, y, rect_w, rect_h);
		}
	}

	t += 0.002;
}
</script>
</body>
</html>
